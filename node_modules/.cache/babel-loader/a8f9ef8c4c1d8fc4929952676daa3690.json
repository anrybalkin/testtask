{"ast":null,"code":"var _jsxFileName = \"/Users/antonrybalkin/Projects/testtask/src/components/ComponentPhoneInput.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect, useState } from 'react';\n/**\n * Component\n * what render input type tel and validate and format phone in real time\n * @param {Object} props\n * @returns\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ComponentPhoneInput = props => {\n  _s();\n\n  let input = useRef();\n  /**\n   * Const what store if pressed Backspace\n   */\n\n  const [keyBackspace, setBackspace] = useState(false);\n  /**\n   * Const what store if pressed numbers\n   */\n\n  const [keyNumber, setNumber] = useState(false);\n  /**\n  * Hook what set onfocus and onblur callback\n   */\n\n  useEffect(() => {\n    /**\n     *  init value on focus with text: +38 (0XX) \n     */\n    input.current.onfocus = () => {\n      if (input.current.value.indexOf(\"+\") === -1) {\n        input.current.value = input.current.value.indexOf(\"+38 (0XX)\") == -1 ? \"+38 (0XX)\" + input.current.value : input.current.value;\n      }\n    };\n\n    input.current.onblur = () => {\n      if (input.current.value.length == 9) input.current.value = input.current.value.indexOf(\"+38 (0XX)\") == 0 ? \"\" : input.current.value;\n    };\n  });\n\n  function onInput(e) {\n    if (e.target.value !== \"\" && keyBackspace == false && keyNumber) {\n      if (e.target.value.length > 19) {\n        let Number = e.target.value.replace(/[^\\d]/g, '').match(/(\\d{2})(\\d{3})(\\d{3})(\\d{2})(\\d{2})/);\n        e.target.value = \"+38 (\" + Number[2] + \") \" + Number[3] + \" \" + Number[4] + \" \" + Number[5];\n      } else {\n        let tmp = e.target.value.replace(/[^\\d]/g, '');\n        tmp = tmp.substring(3, tmp.length);\n\n        switch (true) {\n          case tmp.length <= 2 && tmp.length >= 1:\n            {\n              let Number = tmp.match(/(\\d{1,2})/);\n              e.target.value = Number[1].length == 2 ? \"+38 (0\" + Number[1] + \") \" : \"+38 (0\" + Number[1] + \"X) \";\n            }\n            break;\n\n          case tmp.length < 6 && tmp.length >= 3:\n            {\n              let Number = tmp.match(/(\\d{2})(\\d{1,3})/);\n              e.target.value = \"+38 (0\" + Number[1] + \") \" + (Number[2].length == 3 ? Number[2] + \" \" : Number[2]);\n            }\n            break;\n\n          case tmp.length < 8 && tmp.length >= 6:\n            {\n              let Number = tmp.match(/(\\d{2})(\\d{3})(\\d{1,2})/);\n              e.target.value = \"+38 (0\" + Number[1] + \") \" + Number[2] + \" \" + Number[3];\n            }\n            break;\n\n          case tmp.length < 10 && tmp.length >= 8:\n            {\n              let Number = tmp.match(/(\\d{2})(\\d{3})(\\d{2})(\\d{1,2})/);\n              e.target.value = \"+38 (0\" + Number[1] + \") \" + Number[2] + \" \" + Number[3] + \" \" + Number[4];\n            }\n            break;\n        }\n      }\n    }\n  }\n\n  function blurHandler(e) {\n    let errorSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_error\");\n    let helperSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_helper\");\n    let tmp = \"+\" + e.target.value.replace(/[^\\d]/g, '');\n\n    if (tmp.match(/^[\\+]{0,1}380([0-9]{9})$/) == null) {\n      helperSpan.classList.add(\"hide\");\n      errorSpan.classList.remove(\"hide\");\n      errorSpan.innerText = \"Invalid number\";\n    } else {\n      input.current.classList.remove(\"error\");\n      helperSpan.classList.remove(\"hide\");\n      errorSpan.classList.add(\"hide\");\n    }\n  }\n\n  if (props.reqired) {\n    return /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"input_label\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: input,\n        type: \"tel\",\n        className: \"input\",\n        required: true,\n        onInput: onInput,\n        onPaste: onInput,\n        onBlur: blurHandler,\n        onKeyUp: e => {\n          if (e.key == \"Backspace\") {\n            setBackspace(false);\n          }\n        },\n        onKeyDown: e => {\n          if (e.key == \"Backspace\") {\n            setBackspace(true);\n            setNumber(false);\n          }\n\n          if (/([0-9])/.test(e.target.value)) {\n            setNumber(true);\n          }\n        },\n        placeholder: props.placeholder,\n        name: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input_helper\",\n        children: \"+38 (XXX) XXX - XX - XX\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input_error hide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"input_label\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: input,\n        type: \"text\",\n        className: \"input\",\n        onInput: onInput,\n        placeholder: props.placeholder,\n        name: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input_helper\",\n        children: \"+38 (XXX) XXX - XX - XX\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input_error hide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s(ComponentPhoneInput, \"gKUsS6px0xIS526MnbIpjYJxQMU=\");\n\n_c = ComponentPhoneInput;\nexport default ComponentPhoneInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"ComponentPhoneInput\");","map":{"version":3,"names":["React","useRef","useEffect","useState","ComponentPhoneInput","props","input","keyBackspace","setBackspace","keyNumber","setNumber","current","onfocus","value","indexOf","onblur","length","onInput","e","target","Number","replace","match","tmp","substring","blurHandler","errorSpan","document","querySelector","name","helperSpan","classList","add","remove","innerText","reqired","key","test","placeholder"],"sources":["/Users/antonrybalkin/Projects/testtask/src/components/ComponentPhoneInput.js"],"sourcesContent":["import React, {useRef, useEffect, useState} from 'react';\n/**\n * Component\n * what render input type tel and validate and format phone in real time\n * @param {Object} props\n * @returns\n */\nconst ComponentPhoneInput = (props) => {\n\n    let input = useRef();\n    /**\n     * Const what store if pressed Backspace\n     */\n    const [keyBackspace,\n        setBackspace] = useState(false)\n    /**\n     * Const what store if pressed numbers\n     */\n    const [keyNumber,\n        setNumber] = useState(false)\n    /**\n    * Hook what set onfocus and onblur callback\n     */\n    useEffect(() => {\n        /**\n         *  init value on focus with text: +38 (0XX) \n         */\n        input.current.onfocus = () => {\n            if (input.current.value.indexOf(\"+\") === -1) {\n                input.current.value = input\n                    .current\n                    .value\n                    .indexOf(\"+38 (0XX)\") == -1\n                    ? \"+38 (0XX)\" + input.current.value\n                    : input.current.value;\n\n            }\n        }\n        input.current.onblur = () => {\n            if (input.current.value.length == 9) \n                input.current.value = input.current.value.indexOf(\"+38 (0XX)\") == 0\n                    ? \"\"\n                    : input.current.value;\n            }\n        })\n\n    function onInput(e) {\n        if (e.target.value !== \"\" && keyBackspace == false && keyNumber) {\n\n            if (e.target.value.length > 19) {\n                let Number = e\n                    .target\n                    .value\n                    .replace(/[^\\d]/g, '')\n                    .match(/(\\d{2})(\\d{3})(\\d{3})(\\d{2})(\\d{2})/);\n                e.target.value = \"+38 (\" + Number[2] + \") \" + Number[3] + \" \" + Number[4] + \" \" + Number[5];\n            } else {\n                let tmp = e\n                    .target\n                    .value\n                    .replace(/[^\\d]/g, '');\n\n                tmp = tmp.substring(3, tmp.length)\n                switch (true) {\n                    case tmp.length <= 2 && tmp.length >= 1:\n                        {\n                            let Number = tmp.match(/(\\d{1,2})/);\n                            e.target.value = Number[1].length == 2\n                                ? \"+38 (0\" + Number[1] + \") \"\n                                : \"+38 (0\" + Number[1] + \"X) \";\n                        }\n                        break;\n                    case tmp.length < 6 && tmp.length >= 3:\n                        {\n                            let Number = tmp.match(/(\\d{2})(\\d{1,3})/);\n                            e.target.value = \"+38 (0\" + Number[1] + \") \" + (Number[2].length == 3\n                                ? Number[2] + \" \"\n                                : Number[2]);\n                        }\n                        break;\n                    case tmp.length < 8 && tmp.length >= 6:\n                        {\n                            let Number = tmp.match(/(\\d{2})(\\d{3})(\\d{1,2})/);\n                            e.target.value = \"+38 (0\" + Number[1] + \") \" + Number[2] + \" \" + Number[3];\n                        }\n                        break;\n                    case tmp.length < 10 && tmp.length >= 8:\n                        {\n                            let Number = tmp.match(/(\\d{2})(\\d{3})(\\d{2})(\\d{1,2})/);\n                            e.target.value = \"+38 (0\" + Number[1] + \") \" + Number[2] + \" \" + Number[3] + \" \" + Number[4];\n                        }\n                        break;\n\n                }\n            }\n        }\n\n    }\n\n    function blurHandler(e) {\n        let errorSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_error\");\n        let helperSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_helper\");\n        let tmp = \"+\" + e\n            .target\n            .value\n            .replace(/[^\\d]/g, '');\n        if (tmp.match(/^[\\+]{0,1}380([0-9]{9})$/) == null) {\n            helperSpan\n                .classList\n                .add(\"hide\")\n            errorSpan\n                .classList\n                .remove(\"hide\")\n            errorSpan.innerText = \"Invalid number\";\n        } else {\n            input\n                .current\n                .classList\n                .remove(\"error\");\n            helperSpan\n                .classList\n                .remove(\"hide\")\n            errorSpan\n                .classList\n                .add(\"hide\")\n        }\n    }\n\n    if (props.reqired) {\n        return (\n            <label className='input_label'>\n                <input\n                    ref={input}\n                    type=\"tel\"\n                    className={\"input\"}\n                    required\n                    onInput={onInput}\n                    onPaste={onInput}\n                    onBlur={blurHandler}\n                    onKeyUp={(e) => {\n                    if (e.key == \"Backspace\") {\n                        setBackspace(false)\n                    }\n                }}\n                    onKeyDown={(e) => {\n                    if (e.key == \"Backspace\") {\n                        setBackspace(true);\n                        setNumber(false)\n                    }\n                    if (/([0-9])/.test(e.target.value)) {\n                        setNumber(true)\n                    }\n                }}\n                    placeholder={props.placeholder}\n                    name={props.name}/>\n                <span className={\"input_helper\"}>{\"+38 (XXX) XXX - XX - XX\"}</span>\n                <span className={\"input_error hide\"}></span>\n            </label>\n        );\n    } else {\n        return (\n            <label className='input_label'><input\n                ref={input}\n                type={\"text\"}\n                className={\"input\"}\n                onInput={onInput}\n                placeholder={props.placeholder}\n                name={props.name}/>\n                <span className={\"input_helper\"}>{\"+38 (XXX) XXX - XX - XX\"}</span>\n                <span className={\"input_error hide\"}></span>\n            </label>\n        );\n    }\n}\n\nexport default ComponentPhoneInput;"],"mappings":"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"},"metadata":{},"sourceType":"module"}