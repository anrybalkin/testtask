{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ComponentPhoneInput=function ComponentPhoneInput(props){var input=useRef();useEffect(function(){input.current.onfocus=function(){if(input.current.value.indexOf(\"+\")===-1){input.current.value=input.current.value.indexOf(\"+380\")==-1?\"+380\"+input.current.value:input.current.value;}};input.current.onblur=function(){if(input.current.value.length==4)input.current.value=input.current.value.indexOf(\"+380\")==0?\"\":input.current.value;};});function onInput(e){if(e.target.value!==\"\"){if(e.target.value.length>13){e.target.value=e.target.value.substring(0,13);}else{e.target.value=\"+\"+e.target.value.replace(/[^\\d]/g,'');}}}function blurHandler(e){var errorSpan=document.querySelector(\".input[name='\"+props.name+\"'] ~ .input_error\");;var helperSpan=document.querySelector(\".input[name='\"+props.name+\"'] ~ .input_helper\");if(e.target.value.match(/^[\\+]{0,1}380([0-9]{9})$/)==null){helperSpan.classList.add(\"hide\");errorSpan.classList.remove(\"hide\");errorSpan.innerText=\"Invalid number\";}else{input.current.classList.remove(\"error\");helperSpan.classList.remove(\"hide\");errorSpan.classList.add(\"hide\");}}if(props.reqired){return/*#__PURE__*/_jsxs(\"label\",{className:\"input_label\",children:[/*#__PURE__*/_jsx(\"input\",{ref:input,type:\"tel\",className:\"input\",required:true,onInput:onInput,onPaste:onInput,onBlur:blurHandler,placeholder:props.placeholder,name:props.name}),/*#__PURE__*/_jsx(\"span\",{className:\"input_helper\",children:\"+38 (XXX) XXX - XX - XX\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input_error hide\"})]});}else{return/*#__PURE__*/_jsxs(\"label\",{className:\"input_label\",children:[/*#__PURE__*/_jsx(\"input\",{ref:input,type:\"text\",className:\"input\",onInput:onInput,placeholder:props.placeholder,name:props.name}),/*#__PURE__*/_jsx(\"span\",{className:\"input_helper\",children:\"+38 (XXX) XXX - XX - XX\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input_error hide\"})]});}};export default ComponentPhoneInput;","map":{"version":3,"names":["React","useRef","useEffect","ComponentPhoneInput","props","input","current","onfocus","value","indexOf","onblur","length","onInput","e","target","substring","replace","blurHandler","errorSpan","document","querySelector","name","helperSpan","match","classList","add","remove","innerText","reqired","placeholder"],"sources":["/Users/antonrybalkin/Projects/testtask/src/components/ComponentPhoneInput.js"],"sourcesContent":["import React, {useRef, useEffect} from 'react';\n\nconst ComponentPhoneInput = (props) => {\n\n    let input = useRef();\n\n    useEffect(() => {\n        input.current.onfocus = () => {\n            if (input.current.value.indexOf(\"+\") === -1) {\n                input.current.value = input\n                    .current\n                    .value\n                    .indexOf(\"+380\") == -1\n                    ? \"+380\" + input.current.value\n                    : input.current.value;\n            }\n        }\n        input.current.onblur = () => {\n            if (input.current.value.length == 4) \n                input.current.value = input.current.value.indexOf(\"+380\") == 0\n                    ? \"\"\n                    : input.current.value;\n            }\n        })\n\n    function onInput(e) {\n\n        if (e.target.value !== \"\") {\n\n            if (e.target.value.length > 13) {\n                e.target.value = e\n                    .target\n                    .value\n                    .substring(0, 13);\n            } else {\n                e.target.value = \"+\" + e\n                    .target\n                    .value\n                    .replace(/[^\\d]/g, '');\n            }\n        }\n\n    }\n\n    function blurHandler(e) {\n        let errorSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_error\");;\n        let helperSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_helper\");\n        if (e.target.value.match(/^[\\+]{0,1}380([0-9]{9})$/) == null) {\n            helperSpan\n                .classList\n                .add(\"hide\")\n            errorSpan\n                .classList\n                .remove(\"hide\")\n            errorSpan.innerText = \"Invalid number\";\n        } else {\n            input.current.classList.remove(\"error\");\n            helperSpan\n                .classList\n                .remove(\"hide\")\n            errorSpan\n                .classList\n                .add(\"hide\")\n        }\n    }\n\n    if (props.reqired) {\n        return (\n            <label className='input_label'>\n                <input\n                    ref={input}\n                    type=\"tel\"\n                    className={\"input\"}\n                    required\n                    onInput={onInput}\n                    onPaste={onInput}\n                    onBlur={blurHandler}\n                    placeholder={props.placeholder}\n                    name={props.name}/>\n                <span className={\"input_helper\"}>{\"+38 (XXX) XXX - XX - XX\"}</span>\n                <span className={\"input_error hide\"}></span>\n            </label>\n        );\n    } else {\n        return (\n            <label className='input_label'><input\n                ref={input}\n                type={\"text\"}\n                className={\"input\"}\n                onInput={onInput}\n                placeholder={props.placeholder}\n                name={props.name}/>\n                <span className={\"input_helper\"}>{\"+38 (XXX) XXX - XX - XX\"}</span>\n                <span className={\"input_error hide\"}></span>\n            </label>\n        );\n    }\n}\n\nexport default ComponentPhoneInput;"],"mappings":"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"},"metadata":{},"sourceType":"module"}