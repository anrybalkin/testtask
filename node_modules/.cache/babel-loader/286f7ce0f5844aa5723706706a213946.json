{"ast":null,"code":"import _slicedToArray from\"/Users/antonrybalkin/Projects/testtask/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ComponentPhoneInput=function ComponentPhoneInput(props){var input=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),keyBackspace=_useState2[0],setBackspace=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),keyNumber=_useState4[0],setNumber=_useState4[1];useEffect(function(){input.current.onfocus=function(){if(input.current.value.indexOf(\"+\")===-1){input.current.value=input.current.value.indexOf(\"+38 (0XX)\")==-1?\"+38 (0XX)\"+input.current.value:input.current.value;}};input.current.onblur=function(){if(input.current.value.length==9)input.current.value=input.current.value.indexOf(\"+38 (0XX)\")==0?\"\":input.current.value;};});function onInput(e){if(e.target.value!==\"\"&&keyBackspace==false&&keyNumber){if(e.target.value.length>19){e.target.value=e.target.value.substring(0,19);var _Number=e.target.value.replace(/[^\\d]/g,'').match(/(\\d{2})(\\d{3})(\\d{3})(\\d{2})(\\d{2})/);e.target.value=\"+38 (\"+_Number[2]+\") \"+_Number[3]+\" \"+_Number[4]+\" \"+_Number[5];}else{var tmp=e.target.value.replace(/[^\\d]/g,'');tmp=tmp.substring(3,tmp.length);switch(true){case tmp.length<=2&&tmp.length>=1:{var _Number2=tmp.match(/(\\d{1,2})/);e.target.value=_Number2[1].length==2?\"+38 (0\"+_Number2[1]+\") \":\"+38 (0\"+_Number2[1]+\"X) \";}break;case tmp.length<6&&tmp.length>=3:{var _Number3=tmp.match(/(\\d{2})(\\d{1,3})/);e.target.value=\"+38 (0\"+_Number3[1]+\") \"+(_Number3[2].length==3?_Number3[2]+\" \":_Number3[2]);}break;case tmp.length<8&&tmp.length>=6:{var _Number4=tmp.match(/(\\d{2})(\\d{3})(\\d{1,2})/);e.target.value=\"+38 (0\"+_Number4[1]+\") \"+_Number4[2]+\" \"+_Number4[3];}break;case tmp.length<10&&tmp.length>=8:{var _Number5=tmp.match(/(\\d{2})(\\d{3})(\\d{2})(\\d{1,2})/);e.target.value=\"+38 (0\"+_Number5[1]+\") \"+_Number5[2]+\" \"+_Number5[3]+\" \"+_Number5[4];}break;}}}}function blurHandler(e){var errorSpan=document.querySelector(\".input[name='\"+props.name+\"'] ~ .input_error\");var helperSpan=document.querySelector(\".input[name='\"+props.name+\"'] ~ .input_helper\");var tmp=\"+\"+e.target.value.replace(/[^\\d]/g,'');if(tmp.match(/^[\\+]{0,1}380([0-9]{9})$/)==null){helperSpan.classList.add(\"hide\");errorSpan.classList.remove(\"hide\");errorSpan.innerText=\"Invalid number\";}else{input.current.classList.remove(\"error\");helperSpan.classList.remove(\"hide\");errorSpan.classList.add(\"hide\");}}if(props.reqired){return/*#__PURE__*/_jsxs(\"label\",{className:\"input_label\",children:[/*#__PURE__*/_jsx(\"input\",{ref:input,type:\"tel\",className:\"input\",required:true,onInput:onInput,onPaste:onInput,onBlur:blurHandler,onKeyUp:function onKeyUp(e){if(e.key==\"Backspace\"){setBackspace(false);}},onKeyDown:function onKeyDown(e){if(e.key==\"Backspace\"){setBackspace(true);setNumber(false);}if(/([0-9])/.test(e.target.value)){setNumber(true);}},placeholder:props.placeholder,name:props.name}),/*#__PURE__*/_jsx(\"span\",{className:\"input_helper\",children:\"+38 (XXX) XXX - XX - XX\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input_error hide\"})]});}else{return/*#__PURE__*/_jsxs(\"label\",{className:\"input_label\",children:[/*#__PURE__*/_jsx(\"input\",{ref:input,type:\"text\",className:\"input\",onInput:onInput,placeholder:props.placeholder,name:props.name}),/*#__PURE__*/_jsx(\"span\",{className:\"input_helper\",children:\"+38 (XXX) XXX - XX - XX\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input_error hide\"})]});}};export default ComponentPhoneInput;","map":{"version":3,"names":["React","useRef","useEffect","useState","ComponentPhoneInput","props","input","keyBackspace","setBackspace","keyNumber","setNumber","current","onfocus","value","indexOf","onblur","length","onInput","e","target","substring","Number","replace","match","tmp","blurHandler","errorSpan","document","querySelector","name","helperSpan","classList","add","remove","innerText","reqired","key","test","placeholder"],"sources":["/Users/antonrybalkin/Projects/testtask/src/components/ComponentPhoneInput.js"],"sourcesContent":["import React, {useRef, useEffect, useState} from 'react';\n\nconst ComponentPhoneInput = (props) => {\n\n    let input = useRef();\n    const [keyBackspace,\n        setBackspace] = useState(false)\n    const [keyNumber,\n        setNumber] = useState(false)\n\n    useEffect(() => {\n        input.current.onfocus = () => {\n            if (input.current.value.indexOf(\"+\") === -1) {\n                input.current.value = input\n                    .current\n                    .value\n                    .indexOf(\"+38 (0XX)\") == -1\n                    ? \"+38 (0XX)\" + input.current.value\n                    : input.current.value;\n                    \n            }\n        }\n        input.current.onblur = () => {\n            if (input.current.value.length == 9) \n                input.current.value = input.current.value.indexOf(\"+38 (0XX)\") == 0\n                    ? \"\"\n                    : input.current.value;\n            }\n        })\n\n    function onInput(e) {\n        if (e.target.value !== \"\" &&  keyBackspace == false&& keyNumber) {\n\n            if (e.target.value.length > 19) {\n                e.target.value = e\n                    .target\n                    .value\n                    .substring(0, 19);\n                    let Number = e.target.value.replace(/[^\\d]/g, '').match(/(\\d{2})(\\d{3})(\\d{3})(\\d{2})(\\d{2})/);\n                    e.target.value = \"+38 (\" + Number[2] + \") \" + Number[3] + \" \" + Number[4] + \" \" + Number[5];\n            } else {\n                let tmp = e\n                    .target\n                    .value\n                    .replace(/[^\\d]/g, '');\n\n                tmp = tmp.substring(3, tmp.length)\n                switch (true) {\n                    case tmp.length <= 2 && tmp.length >= 1:\n                        {\n                            let Number = tmp.match(/(\\d{1,2})/);\n                            e.target.value = Number[1].length == 2\n                                ? \"+38 (0\" + Number[1] + \") \"\n                                : \"+38 (0\" + Number[1] + \"X) \";\n                        }\n                        break;\n                    case tmp.length < 6 && tmp.length >= 3:\n                        {\n                            let Number = tmp.match(/(\\d{2})(\\d{1,3})/);\n                            e.target.value = \"+38 (0\" + Number[1] + \") \" + (Number[2].length==3?Number[2]+\" \":Number[2]);\n                        }\n                        break;\n                    case tmp.length < 8 && tmp.length >= 6:\n                        {\n                            let Number = tmp.match(/(\\d{2})(\\d{3})(\\d{1,2})/);\n                            e.target.value = \"+38 (0\" + Number[1] + \") \" + Number[2] + \" \" + Number[3];\n                        }\n                        break;\n                    case tmp.length < 10 && tmp.length >= 8:\n                        {\n                            let Number = tmp.match(/(\\d{2})(\\d{3})(\\d{2})(\\d{1,2})/);\n                            e.target.value = \"+38 (0\" + Number[1] + \") \" + Number[2] + \" \" + Number[3] + \" \" + Number[4];\n                        }\n                        break;\n\n                }\n            }\n        }\n\n    }\n\n    function blurHandler(e) {\n        let errorSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_error\");\n        let helperSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_helper\");\n        let tmp = \"+\"+e\n                    .target\n                    .value\n                    .replace(/[^\\d]/g, '');\n        if (tmp.match(/^[\\+]{0,1}380([0-9]{9})$/) == null) {\n            helperSpan\n                .classList\n                .add(\"hide\")\n            errorSpan\n                .classList\n                .remove(\"hide\")\n            errorSpan.innerText = \"Invalid number\";\n        } else {\n            input\n                .current\n                .classList\n                .remove(\"error\");\n            helperSpan\n                .classList\n                .remove(\"hide\")\n            errorSpan\n                .classList\n                .add(\"hide\")\n        }\n    }\n\n    if (props.reqired) {\n        return (\n            <label className='input_label'>\n                <input\n                    ref={input}\n                    type=\"tel\"\n                    className={\"input\"}\n                    required\n                    onInput={onInput}\n                    onPaste={onInput}\n                    onBlur={blurHandler}\n                    onKeyUp={(e) => {\n                    if (e.key == \"Backspace\") {\n                        setBackspace(false)\n                    }\n                    \n                }}\n                    onKeyDown={(e) => {\n                    if (e.key == \"Backspace\") {\n                        setBackspace(true)\n                        setNumber(false)\n                    }\n                    if(/([0-9])/.test(e.target.value))\n                    {\n                        setNumber(true)\n                    }\n                }}\n                    placeholder={props.placeholder}\n                    name={props.name}/>\n                <span className={\"input_helper\"}>{\"+38 (XXX) XXX - XX - XX\"}</span>\n                <span className={\"input_error hide\"}></span>\n            </label>\n        );\n    } else {\n        return (\n            <label className='input_label'><input\n                ref={input}\n                type={\"text\"}\n                className={\"input\"}\n                onInput={onInput}\n                placeholder={props.placeholder}\n                name={props.name}/>\n                <span className={\"input_helper\"}>{\"+38 (XXX) XXX - XX - XX\"}</span>\n                <span className={\"input_error hide\"}></span>\n            </label>\n        );\n    }\n}\n\nexport default ComponentPhoneInput;"],"mappings":"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"},"metadata":{},"sourceType":"module"}