{"ast":null,"code":"var _jsxFileName = \"/Users/antonrybalkin/Projects/testtask/src/components/ComponentPhoneInput.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ComponentPhoneInput = props => {\n  _s();\n\n  let input = useRef();\n  useEffect(() => {\n    input.current.onfocus = () => {\n      if (input.current.value.indexOf(\"+\") === -1) {\n        input.current.value = input.current.value.indexOf(\"+38 (0XX)\") == -1 ? \"+38 (0XX)\" + input.current.value : input.current.value;\n      }\n    };\n\n    input.current.onblur = () => {\n      if (input.current.value.length == 4) input.current.value = input.current.value.indexOf(\"+38 (0XX)\") == 0 ? \"\" : input.current.value;\n    };\n  });\n\n  function onInput(e) {\n    if (e.target.value !== \"\" && /(+)|(\\()|(\\))|(\\s)/.test(e.target.value[e.target.value.length - 1]) == null) {\n      if (e.target.value.length > 19) {\n        e.target.value = e.target.value.substring(0, 19);\n      } else {\n        let tmp = e.target.value.replace(/[^\\d]/g, '');\n        tmp = tmp.indexOf(\"38\") === 0 ? tmp.replace(\"38\", \"\") : tmp;\n\n        switch (tmp.length) {\n          case tmp.length <= 3 && tmp.length > 1:\n            let Number = tmp.match(/\\d*(\\d{2})(\\d{3})(\\d{3})(\\d{2})(\\d{2})/);\n            e.target.value = \"+\" + Number[1] + \" (\" + Number[2] + \") \" + Number[3] + \" \" + Number[4] + \" \" + Number[5];\n            break;\n\n          case tmp.length <= 6 && tmp.length > 3:\n            break;\n\n          case tmp.length <= 8 && tmp.length > 6:\n            break;\n\n          case tmp.length <= 10 && tmp.length > 8:\n            break;\n        }\n      }\n    }\n  }\n\n  function blurHandler(e) {\n    let errorSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_error\");\n    ;\n    let helperSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_helper\");\n\n    if (e.target.value.match(/^[\\+]{0,1}380([0-9]{9})$/) == null) {\n      helperSpan.classList.add(\"hide\");\n      errorSpan.classList.remove(\"hide\");\n      errorSpan.innerText = \"Invalid number\";\n    } else {\n      input.current.classList.remove(\"error\");\n      helperSpan.classList.remove(\"hide\");\n      errorSpan.classList.add(\"hide\");\n    }\n  }\n\n  if (props.reqired) {\n    return /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"input_label\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: input,\n        type: \"tel\",\n        className: \"input\",\n        required: true,\n        onInput: onInput,\n        onPaste: onInput,\n        onBlur: blurHandler,\n        placeholder: props.placeholder,\n        name: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input_helper\",\n        children: \"+38 (XXX) XXX - XX - XX\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input_error hide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"input_label\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: input,\n        type: \"text\",\n        className: \"input\",\n        onInput: onInput,\n        placeholder: props.placeholder,\n        name: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input_helper\",\n        children: \"+38 (XXX) XXX - XX - XX\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input_error hide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s(ComponentPhoneInput, \"UzX6A0ZAGB3/f4YQseayCi08Eco=\");\n\n_c = ComponentPhoneInput;\nexport default ComponentPhoneInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"ComponentPhoneInput\");","map":{"version":3,"names":["React","useRef","useEffect","ComponentPhoneInput","props","input","current","onfocus","value","indexOf","onblur","length","onInput","e","target","test","substring","tmp","replace","Number","match","blurHandler","errorSpan","document","querySelector","name","helperSpan","classList","add","remove","innerText","reqired","placeholder"],"sources":["/Users/antonrybalkin/Projects/testtask/src/components/ComponentPhoneInput.js"],"sourcesContent":["import React, {useRef, useEffect} from 'react';\n\nconst ComponentPhoneInput = (props) => {\n\n    let input = useRef();\n\n    useEffect(() => {\n        input.current.onfocus = () => {\n            if (input.current.value.indexOf(\"+\") === -1) {\n                input.current.value = input\n                    .current\n                    .value\n                    .indexOf(\"+38 (0XX)\") == -1\n                    ? \"+38 (0XX)\" + input.current.value\n                    : input.current.value;\n            }\n        }\n        input.current.onblur = () => {\n            if (input.current.value.length == 4) \n                input.current.value = input.current.value.indexOf(\"+38 (0XX)\") == 0\n                    ? \"\"\n                    : input.current.value;\n            }\n        })\n\n    function onInput(e) {\n\n        if (e.target.value !== \"\" && /(+)|(\\()|(\\))|(\\s)/.test(e.target.value[e.target.value.length - 1]) == null) {\n\n            if (e.target.value.length > 19) {\n                e.target.value = e\n                    .target\n                    .value\n                    .substring(0, 19);\n            } else {\n                let tmp = e\n                    .target\n                    .value\n                    .replace(/[^\\d]/g, '');\n                    tmp= tmp.indexOf(\"38\")===0?tmp.replace(\"38\",\"\"):tmp;\n                switch (tmp.length) {\n                    case tmp.length <= 3 && tmp.length > 1:\n                        let Number = tmp.match(/\\d*(\\d{2})(\\d{3})(\\d{3})(\\d{2})(\\d{2})/);\n                        e.target.value = \"+\" + Number[1] + \" (\" + Number[2] + \") \" + Number[3] + \" \" + Number[4] + \" \" + Number[5]\n                        break;\n                    case tmp.length <= 6 && tmp.length > 3:\n                        break;\n                    case tmp.length <= 8 && tmp.length > 6:\n                        break;\n                    case tmp.length <= 10 && tmp.length > 8:\n                        break;\n\n                }\n            }\n        }\n\n    }\n\n    function blurHandler(e) {\n        let errorSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_error\");;\n        let helperSpan = document.querySelector(\".input[name='\" + props.name + \"'] ~ .input_helper\");\n        if (e.target.value.match(/^[\\+]{0,1}380([0-9]{9})$/) == null) {\n            helperSpan\n                .classList\n                .add(\"hide\")\n            errorSpan\n                .classList\n                .remove(\"hide\")\n            errorSpan.innerText = \"Invalid number\";\n        } else {\n            input\n                .current\n                .classList\n                .remove(\"error\");\n            helperSpan\n                .classList\n                .remove(\"hide\")\n            errorSpan\n                .classList\n                .add(\"hide\")\n        }\n    }\n\n    if (props.reqired) {\n        return (\n            <label className='input_label'>\n                <input\n                    ref={input}\n                    type=\"tel\"\n                    className={\"input\"}\n                    required\n                    onInput={onInput}\n                    onPaste={onInput}\n                    onBlur={blurHandler}\n                    placeholder={props.placeholder}\n                    name={props.name}/>\n                <span className={\"input_helper\"}>{\"+38 (XXX) XXX - XX - XX\"}</span>\n                <span className={\"input_error hide\"}></span>\n            </label>\n        );\n    } else {\n        return (\n            <label className='input_label'><input\n                ref={input}\n                type={\"text\"}\n                className={\"input\"}\n                onInput={onInput}\n                placeholder={props.placeholder}\n                name={props.name}/>\n                <span className={\"input_helper\"}>{\"+38 (XXX) XXX - XX - XX\"}</span>\n                <span className={\"input_error hide\"}></span>\n            </label>\n        );\n    }\n}\n\nexport default ComponentPhoneInput;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,MAAf,EAAuBC,SAAvB,QAAuC,OAAvC;;;AAEA,MAAMC,mBAAmB,GAAIC,KAAD,IAAW;EAAA;;EAEnC,IAAIC,KAAK,GAAGJ,MAAM,EAAlB;EAEAC,SAAS,CAAC,MAAM;IACZG,KAAK,CAACC,OAAN,CAAcC,OAAd,GAAwB,MAAM;MAC1B,IAAIF,KAAK,CAACC,OAAN,CAAcE,KAAd,CAAoBC,OAApB,CAA4B,GAA5B,MAAqC,CAAC,CAA1C,EAA6C;QACzCJ,KAAK,CAACC,OAAN,CAAcE,KAAd,GAAsBH,KAAK,CACtBC,OADiB,CAEjBE,KAFiB,CAGjBC,OAHiB,CAGT,WAHS,KAGO,CAAC,CAHR,GAIhB,cAAcJ,KAAK,CAACC,OAAN,CAAcE,KAJZ,GAKhBH,KAAK,CAACC,OAAN,CAAcE,KALpB;MAMH;IACJ,CATD;;IAUAH,KAAK,CAACC,OAAN,CAAcI,MAAd,GAAuB,MAAM;MACzB,IAAIL,KAAK,CAACC,OAAN,CAAcE,KAAd,CAAoBG,MAApB,IAA8B,CAAlC,EACIN,KAAK,CAACC,OAAN,CAAcE,KAAd,GAAsBH,KAAK,CAACC,OAAN,CAAcE,KAAd,CAAoBC,OAApB,CAA4B,WAA5B,KAA4C,CAA5C,GAChB,EADgB,GAEhBJ,KAAK,CAACC,OAAN,CAAcE,KAFpB;IAGH,CALL;EAMC,CAjBI,CAAT;;EAmBA,SAASI,OAAT,CAAiBC,CAAjB,EAAoB;IAEhB,IAAIA,CAAC,CAACC,MAAF,CAASN,KAAT,KAAmB,EAAnB,IAAyB,qBAAqBO,IAArB,CAA0BF,CAAC,CAACC,MAAF,CAASN,KAAT,CAAeK,CAAC,CAACC,MAAF,CAASN,KAAT,CAAeG,MAAf,GAAwB,CAAvC,CAA1B,KAAwE,IAArG,EAA2G;MAEvG,IAAIE,CAAC,CAACC,MAAF,CAASN,KAAT,CAAeG,MAAf,GAAwB,EAA5B,EAAgC;QAC5BE,CAAC,CAACC,MAAF,CAASN,KAAT,GAAiBK,CAAC,CACbC,MADY,CAEZN,KAFY,CAGZQ,SAHY,CAGF,CAHE,EAGC,EAHD,CAAjB;MAIH,CALD,MAKO;QACH,IAAIC,GAAG,GAAGJ,CAAC,CACNC,MADK,CAELN,KAFK,CAGLU,OAHK,CAGG,QAHH,EAGa,EAHb,CAAV;QAIID,GAAG,GAAEA,GAAG,CAACR,OAAJ,CAAY,IAAZ,MAAoB,CAApB,GAAsBQ,GAAG,CAACC,OAAJ,CAAY,IAAZ,EAAiB,EAAjB,CAAtB,GAA2CD,GAAhD;;QACJ,QAAQA,GAAG,CAACN,MAAZ;UACI,KAAKM,GAAG,CAACN,MAAJ,IAAc,CAAd,IAAmBM,GAAG,CAACN,MAAJ,GAAa,CAArC;YACI,IAAIQ,MAAM,GAAGF,GAAG,CAACG,KAAJ,CAAU,wCAAV,CAAb;YACAP,CAAC,CAACC,MAAF,CAASN,KAAT,GAAiB,MAAMW,MAAM,CAAC,CAAD,CAAZ,GAAkB,IAAlB,GAAyBA,MAAM,CAAC,CAAD,CAA/B,GAAqC,IAArC,GAA4CA,MAAM,CAAC,CAAD,CAAlD,GAAwD,GAAxD,GAA8DA,MAAM,CAAC,CAAD,CAApE,GAA0E,GAA1E,GAAgFA,MAAM,CAAC,CAAD,CAAvG;YACA;;UACJ,KAAKF,GAAG,CAACN,MAAJ,IAAc,CAAd,IAAmBM,GAAG,CAACN,MAAJ,GAAa,CAArC;YACI;;UACJ,KAAKM,GAAG,CAACN,MAAJ,IAAc,CAAd,IAAmBM,GAAG,CAACN,MAAJ,GAAa,CAArC;YACI;;UACJ,KAAKM,GAAG,CAACN,MAAJ,IAAc,EAAd,IAAoBM,GAAG,CAACN,MAAJ,GAAa,CAAtC;YACI;QAVR;MAaH;IACJ;EAEJ;;EAED,SAASU,WAAT,CAAqBR,CAArB,EAAwB;IACpB,IAAIS,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,kBAAkBpB,KAAK,CAACqB,IAAxB,GAA+B,mBAAtD,CAAhB;IAA2F;IAC3F,IAAIC,UAAU,GAAGH,QAAQ,CAACC,aAAT,CAAuB,kBAAkBpB,KAAK,CAACqB,IAAxB,GAA+B,oBAAtD,CAAjB;;IACA,IAAIZ,CAAC,CAACC,MAAF,CAASN,KAAT,CAAeY,KAAf,CAAqB,0BAArB,KAAoD,IAAxD,EAA8D;MAC1DM,UAAU,CACLC,SADL,CAEKC,GAFL,CAES,MAFT;MAGAN,SAAS,CACJK,SADL,CAEKE,MAFL,CAEY,MAFZ;MAGAP,SAAS,CAACQ,SAAV,GAAsB,gBAAtB;IACH,CARD,MAQO;MACHzB,KAAK,CACAC,OADL,CAEKqB,SAFL,CAGKE,MAHL,CAGY,OAHZ;MAIAH,UAAU,CACLC,SADL,CAEKE,MAFL,CAEY,MAFZ;MAGAP,SAAS,CACJK,SADL,CAEKC,GAFL,CAES,MAFT;IAGH;EACJ;;EAED,IAAIxB,KAAK,CAAC2B,OAAV,EAAmB;IACf,oBACI;MAAO,SAAS,EAAC,aAAjB;MAAA,wBACI;QACI,GAAG,EAAE1B,KADT;QAEI,IAAI,EAAC,KAFT;QAGI,SAAS,EAAE,OAHf;QAII,QAAQ,MAJZ;QAKI,OAAO,EAAEO,OALb;QAMI,OAAO,EAAEA,OANb;QAOI,MAAM,EAAES,WAPZ;QAQI,WAAW,EAAEjB,KAAK,CAAC4B,WARvB;QASI,IAAI,EAAE5B,KAAK,CAACqB;MAThB;QAAA;QAAA;QAAA;MAAA,QADJ,eAWI;QAAM,SAAS,EAAE,cAAjB;QAAA,UAAkC;MAAlC;QAAA;QAAA;QAAA;MAAA,QAXJ,eAYI;QAAM,SAAS,EAAE;MAAjB;QAAA;QAAA;QAAA;MAAA,QAZJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAgBH,CAjBD,MAiBO;IACH,oBACI;MAAO,SAAS,EAAC,aAAjB;MAAA,wBAA+B;QAC3B,GAAG,EAAEpB,KADsB;QAE3B,IAAI,EAAE,MAFqB;QAG3B,SAAS,EAAE,OAHgB;QAI3B,OAAO,EAAEO,OAJkB;QAK3B,WAAW,EAAER,KAAK,CAAC4B,WALQ;QAM3B,IAAI,EAAE5B,KAAK,CAACqB;MANe;QAAA;QAAA;QAAA;MAAA,QAA/B,eAOI;QAAM,SAAS,EAAE,cAAjB;QAAA,UAAkC;MAAlC;QAAA;QAAA;QAAA;MAAA,QAPJ,eAQI;QAAM,SAAS,EAAE;MAAjB;QAAA;QAAA;QAAA;MAAA,QARJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAYH;AACJ,CAhHD;;GAAMtB,mB;;KAAAA,mB;AAkHN,eAAeA,mBAAf"},"metadata":{},"sourceType":"module"}